/* ===================================================*/
/* GRID
/* ===================================================*/
@import "../base/_variables";
@import "../base/_mixins";

// MIXINS
@mixin rowCol {
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
		-ms-flex-flow: column wrap;
			flex-flow: column wrap;
} // End of RowCol

@mixin rowGrid {
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
		-ms-flex-flow: row nowrap;
			flex-flow: row nowrap;
} // End of RowGrid

@mixin maxColWidth($width) {
	$percent: $width + "%";
	-ms-flex-preferred-size: unquote($percent);
        flex-basis: unquote($percent);
    max-width: unquote($percent);
} // End of MaxColWidth

@mixin flexGrid($grid-columns) {
    @for $i from 1 through $grid-columns {
        .#{$grid-name}-#{$i}-of-#{$grid-columns} {
            -ms-flex-preferred-size: $i / $grid-columns * 100%;
            flex-basis: $i / $grid-columns * 100%;
            max-width: $i / $grid-columns * 100%;
        }
    } // End of LOOP
} // End of Grid


// GRID
.container {
	width: 90%;
	margin: 0 auto;
	overflow: hidden;
	
	@media only screen and (min-width: 60em) {
		& { width: 100%; max-width: 60em; }
	}
}
.row {
	@include displayFlex;
	width: 100%;
	@include rowCol;
	
	@media only screen and (min-width: 40em) {
		@include rowGrid;
	}
}
.container:before,
.row:before { content: " "; display: table;	}
.container:after,
.row:after { @extend .container:before; clear:both; }

[class*="col-"], .col {
	@include maxColWidth(100);
    min-height: 0.0625em;
    margin: 0.5em;
    padding: 0.875em;
    @include flexSize(1);
}

@media only screen and (min-width: 40em) {
	[class*="col-"] {
		margin-top: 0.5em;
		margin-bottom: 0.5em;
		
		&:first-of-type { margin-left: 0; }
		&:last-of-type { margin-right: 0; }
	}
	
	.col { margin: 0.5em 0; }
	
	@include flexGrid(12);
	
	.col-1-of-4 { @extend .col-3-of-12; }
	.col-1-of-3 { @extend .col-4-of-12; }
	.col-1-of-2 { @extend .col-6-of-12; }
	.col-2-of-3 { @extend .col-8-of-12; }
	.col-3-of-4 { @extend .col-9-of-12; }
	.col-1-of-1 { @extend .col-12-of-12; }
}

